{
    "nodes": [
        {
            "label": "[root] aws_autoscaling_group.ecs-example-autoscaling",
            "simple_name": "aws_autoscaling_group.ecs-example-autoscaling",
            "type": "aws_autoscaling_group",
            "resource_name": "ecs-example-autoscaling",
            "group": 10,
            "svg_id": "node_0",
            "definition": {},
            "def": {
                "name": "ecs-example-autoscaling",
                "vpc_zone_identifier": [
                    "${aws_subnet.main-public-1.id}",
                    "${aws_subnet.main-public-2.id}"
                ],
                "launch_configuration": "${aws_launch_configuration.ecs-example-launchconfig.name}",
                "min_size": 1,
                "max_size": 1,
                "tag": {
                    "key": "Name",
                    "value": "ecs-ec2-container",
                    "propagate_at_launch": true
                }
            }
        },
        {
            "label": "[root] aws_ebs_volume.jenkins-data",
            "simple_name": "aws_ebs_volume.jenkins-data",
            "type": "aws_ebs_volume",
            "resource_name": "jenkins-data",
            "group": 10,
            "svg_id": "node_1",
            "definition": {},
            "def": {
                "availability_zone": "eu-west-1a",
                "size": 20,
                "type": "gp2",
                "tags": {
                    "Name": "jenkins-data"
                }
            }
        },
        {
            "label": "[root] aws_ecr_repository.myapp",
            "simple_name": "aws_ecr_repository.myapp",
            "type": "aws_ecr_repository",
            "resource_name": "myapp",
            "group": 10,
            "svg_id": "node_2",
            "definition": {},
            "def": {
                "name": "myapp"
            }
        },
        {
            "label": "[root] aws_ecs_cluster.example-cluster",
            "simple_name": "aws_ecs_cluster.example-cluster",
            "type": "aws_ecs_cluster",
            "resource_name": "example-cluster",
            "group": 10,
            "svg_id": "node_3",
            "definition": {},
            "def": {
                "name": "example-cluster"
            }
        },
        {
            "label": "[root] aws_ecs_service.myapp-service",
            "simple_name": "aws_ecs_service.myapp-service",
            "type": "aws_ecs_service",
            "resource_name": "myapp-service",
            "group": 10,
            "svg_id": "node_4",
            "definition": {},
            "def": {
                "count": "${var.MYAPP_SERVICE_ENABLE}",
                "name": "myapp",
                "cluster": "${aws_ecs_cluster.example-cluster.id}",
                "task_definition": "${aws_ecs_task_definition.myapp-task-definition.arn}",
                "desired_count": 1,
                "iam_role": "${aws_iam_role.ecs-service-role.arn}",
                "depends_on": [
                    "aws_iam_policy_attachment.ecs-service-attach1"
                ],
                "load_balancer": {
                    "elb_name": "${aws_elb.myapp-elb.name}",
                    "container_name": "myapp",
                    "container_port": 3000
                },
                "lifecycle": {
                    "ignore_changes": [
                        "task_definition"
                    ]
                }
            }
        },
        {
            "label": "[root] aws_ecs_task_definition.myapp-task-definition",
            "simple_name": "aws_ecs_task_definition.myapp-task-definition",
            "type": "aws_ecs_task_definition",
            "resource_name": "myapp-task-definition",
            "group": 10,
            "svg_id": "node_5",
            "definition": {},
            "def": {
                "family": "myapp",
                "container_definitions": "${data.template_file.myapp-task-definition-template.rendered}"
            }
        },
        {
            "label": "[root] aws_elb.myapp-elb",
            "simple_name": "aws_elb.myapp-elb",
            "type": "aws_elb",
            "resource_name": "myapp-elb",
            "group": 10,
            "svg_id": "node_6",
            "definition": {},
            "def": {
                "name": "myapp-elb",
                "listener": {
                    "instance_port": 3000,
                    "instance_protocol": "http",
                    "lb_port": 80,
                    "lb_protocol": "http"
                },
                "health_check": {
                    "healthy_threshold": 3,
                    "unhealthy_threshold": 3,
                    "timeout": 30,
                    "target": "HTTP:3000/",
                    "interval": 60
                },
                "cross_zone_load_balancing": true,
                "idle_timeout": 400,
                "connection_draining": true,
                "connection_draining_timeout": 400,
                "subnets": [
                    "${aws_subnet.main-public-1.id}",
                    "${aws_subnet.main-public-2.id}"
                ],
                "security_groups": [
                    "${aws_security_group.myapp-elb-securitygroup.id}"
                ],
                "tags": {
                    "Name": "myapp-elb"
                }
            }
        },
        {
            "label": "[root] aws_iam_instance_profile.ecs-ec2-role",
            "simple_name": "aws_iam_instance_profile.ecs-ec2-role",
            "type": "aws_iam_instance_profile",
            "resource_name": "ecs-ec2-role",
            "group": 10,
            "svg_id": "node_7",
            "definition": {},
            "def": {
                "name": "ecs-ec2-role",
                "roles": [
                    "${aws_iam_role.ecs-ec2-role.name}"
                ]
            }
        },
        {
            "label": "[root] aws_iam_policy_attachment.ecs-service-attach1",
            "simple_name": "aws_iam_policy_attachment.ecs-service-attach1",
            "type": "aws_iam_policy_attachment",
            "resource_name": "ecs-service-attach1",
            "group": 10,
            "svg_id": "node_8",
            "definition": {},
            "def": {
                "name": "ecs-service-attach1",
                "roles": [
                    "${aws_iam_role.ecs-service-role.name}"
                ],
                "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonEC2ContainerServiceRole"
            }
        },
        {
            "label": "[root] aws_iam_role.ecs-consul-server-role",
            "simple_name": "aws_iam_role.ecs-consul-server-role",
            "type": "aws_iam_role",
            "resource_name": "ecs-consul-server-role",
            "group": 10,
            "svg_id": "node_9",
            "definition": {},
            "def": {
                "name": "ecs-consul-server-role",
                "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}"
            }
        },
        {
            "label": "[root] aws_iam_role.ecs-ec2-role",
            "simple_name": "aws_iam_role.ecs-ec2-role",
            "type": "aws_iam_role",
            "resource_name": "ecs-ec2-role",
            "group": 10,
            "svg_id": "node_10",
            "definition": {},
            "def": {
                "name": "ecs-ec2-role",
                "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}"
            }
        },
        {
            "label": "[root] aws_iam_role.ecs-service-role",
            "simple_name": "aws_iam_role.ecs-service-role",
            "type": "aws_iam_role",
            "resource_name": "ecs-service-role",
            "group": 10,
            "svg_id": "node_11",
            "definition": {},
            "def": {
                "name": "ecs-service-role",
                "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}"
            }
        },
        {
            "label": "[root] aws_iam_role_policy.ecs-ec2-role-policy",
            "simple_name": "aws_iam_role_policy.ecs-ec2-role-policy",
            "type": "aws_iam_role_policy",
            "resource_name": "ecs-ec2-role-policy",
            "group": 10,
            "svg_id": "node_12",
            "definition": {},
            "def": {
                "name": "ecs-ec2-role-policy",
                "role": "${aws_iam_role.ecs-ec2-role.id}",
                "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n              \"ecs:CreateCluster\",\n              \"ecs:DeregisterContainerInstance\",\n              \"ecs:DiscoverPollEndpoint\",\n              \"ecs:Poll\",\n              \"ecs:RegisterContainerInstance\",\n              \"ecs:StartTelemetrySession\",\n              \"ecs:Submit*\",\n              \"ecs:StartTask\",\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"logs:CreateLogGroup\",\n                \"logs:CreateLogStream\",\n                \"logs:PutLogEvents\",\n                \"logs:DescribeLogStreams\"\n            ],\n            \"Resource\": [\n                \"arn:aws:logs:*:*:*\"\n            ]\n        }\n    ]\n}"
            }
        },
        {
            "label": "[root] aws_instance.jenkins-instance",
            "simple_name": "aws_instance.jenkins-instance",
            "type": "aws_instance",
            "resource_name": "jenkins-instance",
            "group": 10,
            "svg_id": "node_13",
            "definition": {},
            "def": {
                "ami": "${lookup(var.AMIS, var.AWS_REGION)}",
                "instance_type": "t2.small",
                "subnet_id": "${aws_subnet.main-public-1.id}",
                "vpc_security_group_ids": [
                    "${aws_security_group.jenkins-securitygroup.id}"
                ],
                "key_name": "${aws_key_pair.mykeypair.key_name}",
                "user_data": "${data.template_cloudinit_config.cloudinit-jenkins.rendered}"
            }
        },
        {
            "label": "[root] aws_internet_gateway.main-gw",
            "simple_name": "aws_internet_gateway.main-gw",
            "type": "aws_internet_gateway",
            "resource_name": "main-gw",
            "group": 10,
            "svg_id": "node_14",
            "definition": {},
            "def": {
                "vpc_id": "${aws_vpc.main.id}",
                "tags": {
                    "Name": "main"
                }
            }
        },
        {
            "label": "[root] aws_key_pair.mykeypair",
            "simple_name": "aws_key_pair.mykeypair",
            "type": "aws_key_pair",
            "resource_name": "mykeypair",
            "group": 10,
            "svg_id": "node_15",
            "definition": {},
            "def": {
                "key_name": "mykeypair",
                "public_key": "${file(\"${var.PATH_TO_PUBLIC_KEY}\")}",
                "lifecycle": {
                    "ignore_changes": [
                        "public_key"
                    ]
                }
            }
        },
        {
            "label": "[root] aws_launch_configuration.ecs-example-launchconfig",
            "simple_name": "aws_launch_configuration.ecs-example-launchconfig",
            "type": "aws_launch_configuration",
            "resource_name": "ecs-example-launchconfig",
            "group": 10,
            "svg_id": "node_16",
            "definition": {},
            "def": {
                "name_prefix": "ecs-launchconfig",
                "image_id": "${lookup(var.ECS_AMIS, var.AWS_REGION)}",
                "instance_type": "${var.ECS_INSTANCE_TYPE}",
                "key_name": "${aws_key_pair.mykeypair.key_name}",
                "iam_instance_profile": "${aws_iam_instance_profile.ecs-ec2-role.id}",
                "security_groups": [
                    "${aws_security_group.ecs-securitygroup.id}"
                ],
                "user_data": "#!/bin/bash\\necho 'ECS_CLUSTER=example-cluster' > /etc/ecs/ecs.config\\nstart ecs",
                "lifecycle": {
                    "create_before_destroy": true
                }
            }
        },
        {
            "label": "[root] aws_route_table.main-public",
            "simple_name": "aws_route_table.main-public",
            "type": "aws_route_table",
            "resource_name": "main-public",
            "group": 10,
            "svg_id": "node_17",
            "definition": {},
            "def": {
                "vpc_id": "${aws_vpc.main.id}",
                "route": {
                    "cidr_block": "0.0.0.0/0",
                    "gateway_id": "${aws_internet_gateway.main-gw.id}"
                },
                "tags": {
                    "Name": "main-public-1"
                }
            }
        },
        {
            "label": "[root] aws_route_table_association.main-public-1-a",
            "simple_name": "aws_route_table_association.main-public-1-a",
            "type": "aws_route_table_association",
            "resource_name": "main-public-1-a",
            "group": 10,
            "svg_id": "node_18",
            "definition": {},
            "def": {
                "subnet_id": "${aws_subnet.main-public-1.id}",
                "route_table_id": "${aws_route_table.main-public.id}"
            }
        },
        {
            "label": "[root] aws_route_table_association.main-public-2-a",
            "simple_name": "aws_route_table_association.main-public-2-a",
            "type": "aws_route_table_association",
            "resource_name": "main-public-2-a",
            "group": 10,
            "svg_id": "node_19",
            "definition": {},
            "def": {
                "subnet_id": "${aws_subnet.main-public-2.id}",
                "route_table_id": "${aws_route_table.main-public.id}"
            }
        },
        {
            "label": "[root] aws_route_table_association.main-public-3-a",
            "simple_name": "aws_route_table_association.main-public-3-a",
            "type": "aws_route_table_association",
            "resource_name": "main-public-3-a",
            "group": 10,
            "svg_id": "node_20",
            "definition": {},
            "def": {
                "subnet_id": "${aws_subnet.main-public-3.id}",
                "route_table_id": "${aws_route_table.main-public.id}"
            }
        },
        {
            "label": "[root] aws_s3_bucket.terraform-state",
            "simple_name": "aws_s3_bucket.terraform-state",
            "type": "aws_s3_bucket",
            "resource_name": "terraform-state",
            "group": 10,
            "svg_id": "node_21",
            "definition": {},
            "def": {
                "bucket": "terraform-state-a2b6219",
                "acl": "private",
                "tags": {
                    "Name": "Terraform state"
                }
            }
        },
        {
            "label": "[root] aws_security_group.ecs-securitygroup",
            "simple_name": "aws_security_group.ecs-securitygroup",
            "type": "aws_security_group",
            "resource_name": "ecs-securitygroup",
            "group": 2,
            "svg_id": "node_22",
            "definition": {},
            "def": {
                "vpc_id": "${aws_vpc.main.id}",
                "name": "ecs",
                "description": "security group for ecs",
                "egress": {
                    "from_port": 0,
                    "to_port": 0,
                    "protocol": "-1",
                    "cidr_blocks": [
                        "0.0.0.0/0"
                    ]
                },
                "ingress": [
                    {
                        "from_port": 3000,
                        "to_port": 3000,
                        "protocol": "tcp",
                        "security_groups": [
                            "${aws_security_group.myapp-elb-securitygroup.id}"
                        ]
                    },
                    {
                        "from_port": 22,
                        "to_port": 22,
                        "protocol": "tcp",
                        "cidr_blocks": [
                            "0.0.0.0/0"
                        ]
                    }
                ],
                "tags": {
                    "Name": "ecs"
                }
            }
        },
        {
            "label": "[root] aws_security_group.jenkins-securitygroup",
            "simple_name": "aws_security_group.jenkins-securitygroup",
            "type": "aws_security_group",
            "resource_name": "jenkins-securitygroup",
            "group": 2,
            "svg_id": "node_23",
            "definition": {},
            "def": {
                "vpc_id": "${aws_vpc.main.id}",
                "name": "jenkins-securitygroup",
                "description": "security group that allows ssh and all egress traffic",
                "egress": {
                    "from_port": 0,
                    "to_port": 0,
                    "protocol": "-1",
                    "cidr_blocks": [
                        "0.0.0.0/0"
                    ]
                },
                "ingress": [
                    {
                        "from_port": 22,
                        "to_port": 22,
                        "protocol": "tcp",
                        "cidr_blocks": [
                            "0.0.0.0/0"
                        ]
                    },
                    {
                        "from_port": 8080,
                        "to_port": 8080,
                        "protocol": "tcp",
                        "cidr_blocks": [
                            "0.0.0.0/0"
                        ]
                    }
                ],
                "tags": {
                    "Name": "jenkins-securitygroup"
                }
            }
        },
        {
            "label": "[root] aws_security_group.myapp-elb-securitygroup",
            "simple_name": "aws_security_group.myapp-elb-securitygroup",
            "type": "aws_security_group",
            "resource_name": "myapp-elb-securitygroup",
            "group": 2,
            "svg_id": "node_24",
            "definition": {},
            "def": {
                "vpc_id": "${aws_vpc.main.id}",
                "name": "myapp-elb",
                "description": "security group for ecs",
                "egress": {
                    "from_port": 0,
                    "to_port": 0,
                    "protocol": "-1",
                    "cidr_blocks": [
                        "0.0.0.0/0"
                    ]
                },
                "ingress": {
                    "from_port": 80,
                    "to_port": 80,
                    "protocol": "tcp",
                    "cidr_blocks": [
                        "0.0.0.0/0"
                    ]
                },
                "tags": {
                    "Name": "myapp-elb"
                }
            }
        },
        {
            "label": "[root] aws_subnet.main-private-1",
            "simple_name": "aws_subnet.main-private-1",
            "type": "aws_subnet",
            "resource_name": "main-private-1",
            "group": 5,
            "svg_id": "node_25",
            "definition": {},
            "def": {
                "vpc_id": "${aws_vpc.main.id}",
                "cidr_block": "10.0.4.0/24",
                "map_public_ip_on_launch": "false",
                "availability_zone": "eu-west-1a",
                "tags": {
                    "Name": "main-private-1"
                }
            }
        },
        {
            "label": "[root] aws_subnet.main-private-2",
            "simple_name": "aws_subnet.main-private-2",
            "type": "aws_subnet",
            "resource_name": "main-private-2",
            "group": 5,
            "svg_id": "node_26",
            "definition": {},
            "def": {
                "vpc_id": "${aws_vpc.main.id}",
                "cidr_block": "10.0.5.0/24",
                "map_public_ip_on_launch": "false",
                "availability_zone": "eu-west-1b",
                "tags": {
                    "Name": "main-private-2"
                }
            }
        },
        {
            "label": "[root] aws_subnet.main-private-3",
            "simple_name": "aws_subnet.main-private-3",
            "type": "aws_subnet",
            "resource_name": "main-private-3",
            "group": 5,
            "svg_id": "node_27",
            "definition": {},
            "def": {
                "vpc_id": "${aws_vpc.main.id}",
                "cidr_block": "10.0.6.0/24",
                "map_public_ip_on_launch": "false",
                "availability_zone": "eu-west-1c",
                "tags": {
                    "Name": "main-private-3"
                }
            }
        },
        {
            "label": "[root] aws_subnet.main-public-1",
            "simple_name": "aws_subnet.main-public-1",
            "type": "aws_subnet",
            "resource_name": "main-public-1",
            "group": 5,
            "svg_id": "node_28",
            "definition": {},
            "def": {
                "vpc_id": "${aws_vpc.main.id}",
                "cidr_block": "10.0.1.0/24",
                "map_public_ip_on_launch": "true",
                "availability_zone": "eu-west-1a",
                "tags": {
                    "Name": "main-public-1"
                }
            }
        },
        {
            "label": "[root] aws_subnet.main-public-2",
            "simple_name": "aws_subnet.main-public-2",
            "type": "aws_subnet",
            "resource_name": "main-public-2",
            "group": 5,
            "svg_id": "node_29",
            "definition": {},
            "def": {
                "vpc_id": "${aws_vpc.main.id}",
                "cidr_block": "10.0.2.0/24",
                "map_public_ip_on_launch": "true",
                "availability_zone": "eu-west-1b",
                "tags": {
                    "Name": "main-public-2"
                }
            }
        },
        {
            "label": "[root] aws_subnet.main-public-3",
            "simple_name": "aws_subnet.main-public-3",
            "type": "aws_subnet",
            "resource_name": "main-public-3",
            "group": 5,
            "svg_id": "node_30",
            "definition": {},
            "def": {
                "vpc_id": "${aws_vpc.main.id}",
                "cidr_block": "10.0.3.0/24",
                "map_public_ip_on_launch": "true",
                "availability_zone": "eu-west-1c",
                "tags": {
                    "Name": "main-public-3"
                }
            }
        },
        {
            "label": "[root] aws_volume_attachment.jenkins-data-attachment",
            "simple_name": "aws_volume_attachment.jenkins-data-attachment",
            "type": "aws_volume_attachment",
            "resource_name": "jenkins-data-attachment",
            "group": 10,
            "svg_id": "node_31",
            "definition": {},
            "def": {
                "device_name": "${var.INSTANCE_DEVICE_NAME}",
                "volume_id": "${aws_ebs_volume.jenkins-data.id}",
                "instance_id": "${aws_instance.jenkins-instance.id}"
            }
        },
        {
            "label": "[root] aws_vpc.main",
            "simple_name": "aws_vpc.main",
            "type": "aws_vpc",
            "resource_name": "main",
            "group": 10,
            "svg_id": "node_32",
            "definition": {},
            "def": {
                "cidr_block": "10.0.0.0/16",
                "instance_tenancy": "default",
                "enable_dns_support": "true",
                "enable_dns_hostnames": "true",
                "enable_classiclink": "false",
                "tags": {
                    "Name": "main"
                }
            }
        },
        {
            "label": "[root] data.template_cloudinit_config.cloudinit-jenkins",
            "simple_name": "data.template_cloudinit_config.cloudinit-jenkins",
            "type": "data.template_cloudinit_config",
            "resource_name": "cloudinit-jenkins",
            "group": 6,
            "svg_id": "node_33",
            "definition": {},
            "def": []
        },
        {
            "label": "[root] data.template_file.jenkins-init",
            "simple_name": "data.template_file.jenkins-init",
            "type": "data.template_file",
            "resource_name": "jenkins-init",
            "group": 6,
            "svg_id": "node_34",
            "definition": {},
            "def": []
        },
        {
            "label": "[root] data.template_file.myapp-task-definition-template",
            "simple_name": "data.template_file.myapp-task-definition-template",
            "type": "data.template_file",
            "resource_name": "myapp-task-definition-template",
            "group": 6,
            "svg_id": "node_35",
            "definition": {},
            "def": []
        },
        {
            "label": "[root] provider.aws",
            "simple_name": "provider.aws",
            "type": "provider",
            "resource_name": "aws",
            "group": 10,
            "svg_id": "node_36",
            "definition": {},
            "def": []
        },
        {
            "label": "[root] provider.template",
            "simple_name": "provider.template",
            "type": "provider",
            "resource_name": "template",
            "group": 10,
            "svg_id": "node_37",
            "definition": {},
            "def": []
        },
        {
            "label": "[root] var.MYAPP_SERVICE_ENABLE",
            "simple_name": "var.MYAPP_SERVICE_ENABLE",
            "type": "var",
            "resource_name": "MYAPP_SERVICE_ENABLE",
            "group": 1,
            "svg_id": "node_38",
            "definition": {},
            "def": {
                "default": "0"
            }
        },
        {
            "label": "[root] var.AMIS",
            "simple_name": "var.AMIS",
            "type": "var",
            "resource_name": "AMIS",
            "group": 1,
            "svg_id": "node_39",
            "definition": {},
            "def": {
                "type": "map",
                "default": {
                    "us-east-1": "ami-13be557e",
                    "us-west-2": "ami-06b94666",
                    "eu-west-1": "ami-844e0bf7"
                }
            }
        },
        {
            "label": "[root] var.PATH_TO_PUBLIC_KEY",
            "simple_name": "var.PATH_TO_PUBLIC_KEY",
            "type": "var",
            "resource_name": "PATH_TO_PUBLIC_KEY",
            "group": 1,
            "svg_id": "node_40",
            "definition": {},
            "def": {
                "default": "mykey.pub"
            }
        },
        {
            "label": "[root] var.ECS_AMIS",
            "simple_name": "var.ECS_AMIS",
            "type": "var",
            "resource_name": "ECS_AMIS",
            "group": 1,
            "svg_id": "node_41",
            "definition": {},
            "def": {
                "type": "map",
                "default": {
                    "us-east-1": "ami-1924770e",
                    "us-west-2": "ami-56ed4936",
                    "eu-west-1": "ami-c8337dbb"
                }
            }
        },
        {
            "label": "[root] var.ECS_INSTANCE_TYPE",
            "simple_name": "var.ECS_INSTANCE_TYPE",
            "type": "var",
            "resource_name": "ECS_INSTANCE_TYPE",
            "group": 1,
            "svg_id": "node_42",
            "definition": {},
            "def": {
                "default": "t2.micro"
            }
        },
        {
            "label": "[root] var.INSTANCE_DEVICE_NAME",
            "simple_name": "var.INSTANCE_DEVICE_NAME",
            "type": "var",
            "resource_name": "INSTANCE_DEVICE_NAME",
            "group": 1,
            "svg_id": "node_43",
            "definition": {},
            "def": {
                "default": "/dev/xvdh"
            }
        },
        {
            "label": "[root] var.JENKINS_VERSION",
            "simple_name": "var.JENKINS_VERSION",
            "type": "var",
            "resource_name": "JENKINS_VERSION",
            "group": 1,
            "svg_id": "node_44",
            "definition": {},
            "def": {
                "default": "2.19.1"
            }
        },
        {
            "label": "[root] var.MYAPP_VERSION",
            "simple_name": "var.MYAPP_VERSION",
            "type": "var",
            "resource_name": "MYAPP_VERSION",
            "group": 1,
            "svg_id": "node_45",
            "definition": {},
            "def": {
                "default": "0"
            }
        },
        {
            "label": "[root] meta.count-boundary (count boundary fixup)",
            "simple_name": "meta.count-boundary (count boundary fixup)",
            "type": "meta",
            "resource_name": "count-boundary",
            "group": 10,
            "svg_id": "node_46",
            "definition": {},
            "def": []
        },
        {
            "label": "[root] output.elb",
            "simple_name": "output.elb",
            "type": "output",
            "resource_name": "elb",
            "group": 10,
            "svg_id": "node_47",
            "definition": {},
            "def": []
        },
        {
            "label": "[root] output.jenkins",
            "simple_name": "output.jenkins",
            "type": "output",
            "resource_name": "jenkins",
            "group": 10,
            "svg_id": "node_48",
            "definition": {},
            "def": []
        },
        {
            "label": "[root] output.myapp-repository-URL",
            "simple_name": "output.myapp-repository-URL",
            "type": "output",
            "resource_name": "myapp-repository-URL",
            "group": 10,
            "svg_id": "node_49",
            "definition": {},
            "def": []
        },
        {
            "label": "[root] var.PATH_TO_PRIVATE_KEY",
            "simple_name": "var.PATH_TO_PRIVATE_KEY",
            "type": "var",
            "resource_name": "PATH_TO_PRIVATE_KEY",
            "group": 1,
            "svg_id": "node_50",
            "definition": {},
            "def": {
                "default": "mykey"
            }
        },
        {
            "label": "[root] provider.aws (close)",
            "simple_name": "provider.aws (close)",
            "type": "provider",
            "resource_name": "aws",
            "group": 10,
            "svg_id": "node_51",
            "definition": {},
            "def": []
        },
        {
            "label": "[root] var.AWS_REGION",
            "simple_name": "var.AWS_REGION",
            "type": "var",
            "resource_name": "AWS_REGION",
            "group": 1,
            "svg_id": "node_52",
            "definition": {},
            "def": {
                "default": "eu-west-1"
            }
        },
        {
            "label": "[root] provider.template (close)",
            "simple_name": "provider.template (close)",
            "type": "provider",
            "resource_name": "template",
            "group": 10,
            "svg_id": "node_53",
            "definition": {},
            "def": []
        },
        {
            "label": "[root] root",
            "simple_name": "root",
            "type": "",
            "resource_name": "",
            "group": 9,
            "svg_id": "node_54",
            "definition": {},
            "def": []
        }
    ],
    "links": [
        {
            "source": "[root] aws_autoscaling_group.ecs-example-autoscaling",
            "target": "[root] aws_launch_configuration.ecs-example-launchconfig"
        },
        {
            "source": "[root] aws_autoscaling_group.ecs-example-autoscaling",
            "target": "[root] aws_subnet.main-public-1"
        },
        {
            "source": "[root] aws_autoscaling_group.ecs-example-autoscaling",
            "target": "[root] aws_subnet.main-public-2"
        },
        {
            "source": "[root] aws_ebs_volume.jenkins-data",
            "target": "[root] provider.aws"
        },
        {
            "source": "[root] aws_ecr_repository.myapp",
            "target": "[root] provider.aws"
        },
        {
            "source": "[root] aws_ecs_cluster.example-cluster",
            "target": "[root] provider.aws"
        },
        {
            "source": "[root] aws_ecs_service.myapp-service",
            "target": "[root] aws_ecs_cluster.example-cluster"
        },
        {
            "source": "[root] aws_ecs_service.myapp-service",
            "target": "[root] aws_ecs_task_definition.myapp-task-definition"
        },
        {
            "source": "[root] aws_ecs_service.myapp-service",
            "target": "[root] aws_elb.myapp-elb"
        },
        {
            "source": "[root] aws_ecs_service.myapp-service",
            "target": "[root] aws_iam_policy_attachment.ecs-service-attach1"
        },
        {
            "source": "[root] aws_ecs_service.myapp-service",
            "target": "[root] var.MYAPP_SERVICE_ENABLE"
        },
        {
            "source": "[root] aws_ecs_task_definition.myapp-task-definition",
            "target": "[root] data.template_file.myapp-task-definition-template"
        },
        {
            "source": "[root] aws_elb.myapp-elb",
            "target": "[root] aws_security_group.myapp-elb-securitygroup"
        },
        {
            "source": "[root] aws_elb.myapp-elb",
            "target": "[root] aws_subnet.main-public-1"
        },
        {
            "source": "[root] aws_elb.myapp-elb",
            "target": "[root] aws_subnet.main-public-2"
        },
        {
            "source": "[root] aws_iam_instance_profile.ecs-ec2-role",
            "target": "[root] aws_iam_role.ecs-ec2-role"
        },
        {
            "source": "[root] aws_iam_policy_attachment.ecs-service-attach1",
            "target": "[root] aws_iam_role.ecs-service-role"
        },
        {
            "source": "[root] aws_iam_role.ecs-consul-server-role",
            "target": "[root] provider.aws"
        },
        {
            "source": "[root] aws_iam_role.ecs-ec2-role",
            "target": "[root] provider.aws"
        },
        {
            "source": "[root] aws_iam_role.ecs-service-role",
            "target": "[root] provider.aws"
        },
        {
            "source": "[root] aws_iam_role_policy.ecs-ec2-role-policy",
            "target": "[root] aws_iam_role.ecs-ec2-role"
        },
        {
            "source": "[root] aws_instance.jenkins-instance",
            "target": "[root] aws_key_pair.mykeypair"
        },
        {
            "source": "[root] aws_instance.jenkins-instance",
            "target": "[root] aws_security_group.jenkins-securitygroup"
        },
        {
            "source": "[root] aws_instance.jenkins-instance",
            "target": "[root] aws_subnet.main-public-1"
        },
        {
            "source": "[root] aws_instance.jenkins-instance",
            "target": "[root] data.template_cloudinit_config.cloudinit-jenkins"
        },
        {
            "source": "[root] aws_instance.jenkins-instance",
            "target": "[root] var.AMIS"
        },
        {
            "source": "[root] aws_internet_gateway.main-gw",
            "target": "[root] aws_vpc.main"
        },
        {
            "source": "[root] aws_key_pair.mykeypair",
            "target": "[root] provider.aws"
        },
        {
            "source": "[root] aws_key_pair.mykeypair",
            "target": "[root] var.PATH_TO_PUBLIC_KEY"
        },
        {
            "source": "[root] aws_launch_configuration.ecs-example-launchconfig",
            "target": "[root] aws_iam_instance_profile.ecs-ec2-role"
        },
        {
            "source": "[root] aws_launch_configuration.ecs-example-launchconfig",
            "target": "[root] aws_key_pair.mykeypair"
        },
        {
            "source": "[root] aws_launch_configuration.ecs-example-launchconfig",
            "target": "[root] aws_security_group.ecs-securitygroup"
        },
        {
            "source": "[root] aws_launch_configuration.ecs-example-launchconfig",
            "target": "[root] var.ECS_AMIS"
        },
        {
            "source": "[root] aws_launch_configuration.ecs-example-launchconfig",
            "target": "[root] var.ECS_INSTANCE_TYPE"
        },
        {
            "source": "[root] aws_route_table.main-public",
            "target": "[root] aws_internet_gateway.main-gw"
        },
        {
            "source": "[root] aws_route_table_association.main-public-1-a",
            "target": "[root] aws_route_table.main-public"
        },
        {
            "source": "[root] aws_route_table_association.main-public-1-a",
            "target": "[root] aws_subnet.main-public-1"
        },
        {
            "source": "[root] aws_route_table_association.main-public-2-a",
            "target": "[root] aws_route_table.main-public"
        },
        {
            "source": "[root] aws_route_table_association.main-public-2-a",
            "target": "[root] aws_subnet.main-public-2"
        },
        {
            "source": "[root] aws_route_table_association.main-public-3-a",
            "target": "[root] aws_route_table.main-public"
        },
        {
            "source": "[root] aws_route_table_association.main-public-3-a",
            "target": "[root] aws_subnet.main-public-3"
        },
        {
            "source": "[root] aws_s3_bucket.terraform-state",
            "target": "[root] provider.aws"
        },
        {
            "source": "[root] aws_security_group.ecs-securitygroup",
            "target": "[root] aws_security_group.myapp-elb-securitygroup"
        },
        {
            "source": "[root] aws_security_group.jenkins-securitygroup",
            "target": "[root] aws_vpc.main"
        },
        {
            "source": "[root] aws_security_group.myapp-elb-securitygroup",
            "target": "[root] aws_vpc.main"
        },
        {
            "source": "[root] aws_subnet.main-private-1",
            "target": "[root] aws_vpc.main"
        },
        {
            "source": "[root] aws_subnet.main-private-2",
            "target": "[root] aws_vpc.main"
        },
        {
            "source": "[root] aws_subnet.main-private-3",
            "target": "[root] aws_vpc.main"
        },
        {
            "source": "[root] aws_subnet.main-public-1",
            "target": "[root] aws_vpc.main"
        },
        {
            "source": "[root] aws_subnet.main-public-2",
            "target": "[root] aws_vpc.main"
        },
        {
            "source": "[root] aws_subnet.main-public-3",
            "target": "[root] aws_vpc.main"
        },
        {
            "source": "[root] aws_volume_attachment.jenkins-data-attachment",
            "target": "[root] aws_ebs_volume.jenkins-data"
        },
        {
            "source": "[root] aws_volume_attachment.jenkins-data-attachment",
            "target": "[root] aws_instance.jenkins-instance"
        },
        {
            "source": "[root] aws_vpc.main",
            "target": "[root] provider.aws"
        },
        {
            "source": "[root] data.template_cloudinit_config.cloudinit-jenkins",
            "target": "[root] data.template_file.jenkins-init"
        },
        {
            "source": "[root] data.template_file.jenkins-init",
            "target": "[root] provider.template"
        },
        {
            "source": "[root] data.template_file.jenkins-init",
            "target": "[root] var.INSTANCE_DEVICE_NAME"
        },
        {
            "source": "[root] data.template_file.jenkins-init",
            "target": "[root] var.JENKINS_VERSION"
        },
        {
            "source": "[root] data.template_file.myapp-task-definition-template",
            "target": "[root] aws_ecr_repository.myapp"
        },
        {
            "source": "[root] data.template_file.myapp-task-definition-template",
            "target": "[root] provider.template"
        },
        {
            "source": "[root] data.template_file.myapp-task-definition-template",
            "target": "[root] var.MYAPP_VERSION"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] aws_autoscaling_group.ecs-example-autoscaling"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] aws_ecs_service.myapp-service"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] aws_iam_role.ecs-consul-server-role"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] aws_iam_role_policy.ecs-ec2-role-policy"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] aws_route_table_association.main-public-1-a"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] aws_route_table_association.main-public-2-a"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] aws_route_table_association.main-public-3-a"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] aws_s3_bucket.terraform-state"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] aws_subnet.main-private-1"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] aws_subnet.main-private-2"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] aws_subnet.main-private-3"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] aws_volume_attachment.jenkins-data-attachment"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] output.elb"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] output.jenkins"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] output.myapp-repository-URL"
        },
        {
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "target": "[root] var.PATH_TO_PRIVATE_KEY"
        },
        {
            "source": "[root] output.elb",
            "target": "[root] aws_elb.myapp-elb"
        },
        {
            "source": "[root] output.jenkins",
            "target": "[root] aws_instance.jenkins-instance"
        },
        {
            "source": "[root] output.myapp-repository-URL",
            "target": "[root] aws_ecr_repository.myapp"
        },
        {
            "source": "[root] provider.aws (close)",
            "target": "[root] aws_autoscaling_group.ecs-example-autoscaling"
        },
        {
            "source": "[root] provider.aws (close)",
            "target": "[root] aws_ecs_service.myapp-service"
        },
        {
            "source": "[root] provider.aws (close)",
            "target": "[root] aws_iam_role.ecs-consul-server-role"
        },
        {
            "source": "[root] provider.aws (close)",
            "target": "[root] aws_iam_role_policy.ecs-ec2-role-policy"
        },
        {
            "source": "[root] provider.aws (close)",
            "target": "[root] aws_route_table_association.main-public-1-a"
        },
        {
            "source": "[root] provider.aws (close)",
            "target": "[root] aws_route_table_association.main-public-2-a"
        },
        {
            "source": "[root] provider.aws (close)",
            "target": "[root] aws_route_table_association.main-public-3-a"
        },
        {
            "source": "[root] provider.aws (close)",
            "target": "[root] aws_s3_bucket.terraform-state"
        },
        {
            "source": "[root] provider.aws (close)",
            "target": "[root] aws_subnet.main-private-1"
        },
        {
            "source": "[root] provider.aws (close)",
            "target": "[root] aws_subnet.main-private-2"
        },
        {
            "source": "[root] provider.aws (close)",
            "target": "[root] aws_subnet.main-private-3"
        },
        {
            "source": "[root] provider.aws (close)",
            "target": "[root] aws_volume_attachment.jenkins-data-attachment"
        },
        {
            "source": "[root] provider.aws",
            "target": "[root] var.AWS_REGION"
        },
        {
            "source": "[root] provider.template (close)",
            "target": "[root] data.template_cloudinit_config.cloudinit-jenkins"
        },
        {
            "source": "[root] provider.template (close)",
            "target": "[root] data.template_file.myapp-task-definition-template"
        },
        {
            "source": "[root] root",
            "target": "[root] meta.count-boundary (count boundary fixup)"
        },
        {
            "source": "[root] root",
            "target": "[root] provider.aws (close)"
        },
        {
            "source": "[root] root",
            "target": "[root] provider.template (close)"
        }
    ]
}
